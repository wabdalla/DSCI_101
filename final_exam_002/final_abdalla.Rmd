---
title: "Final Exam"
author: "YOUR NAME HERE"
date: "2024-12-09"
output: html_document
editor_options: 
  chunk_output_type: console
---


# Final Exam DSCI 101 Fall 2024


### **Instructions**

* Below is your final exam for DSCI 101 for Fall 2024.

* **YOU ARE NOT ALLOWED TO SHARE THE CONTENT OF THIS EXAM WITH ANYONE**

* You may consult your class notes or the help buttons in R. 

* You are only allowed to work within RStudio. Any file you need to access, you should do it within RStudio.

* Make sure to answer in full sentences if you see *YOUR WRITTEN ANSWER HERE* after a question. 

* Answer each question using this same file. Your codes should go inside the codechunks. 

* Once you are done with the exam, you must knit the file and load the html document in Sakai. 

### **Dataset Description: Chicago COVID Cases**

The dataset, named `chicago_covid_cases.csv`, has been sourced from the City of Chicago Data Portal. It represents COVID-19 cases in Chicago and has been cleaned to ensure a standardized format. The dataset includes key variables such as 'date,' 'total' (total cases for that particular day), 'female' (number of female cases for that particular day), 'male' (number of male cases for that particular day), and columns related to different age groups. 


### **File submitted in HTML Format **

Submit the html file in Sakai once you are done with your exam. If you request help from your instructor to knit the file, you will lose 10 points. 


### **Loading Packages**

```{r packages, message = FALSE, warning = FALSE}
library(tidyverse)
library(plotly)
```

### **Question 1** (20 points)

a. Read in the dataset `chicago_covid_cases.csv`. Name the dataframe `cases`. 

```{r question_1a, message = FALSE, warning = FALSE}



```

b. Check the class of the `date` column in the code chunks. What class should it be? and why is it not reflecting the correct class?  

*YOUR WRITTEN ANSWER HERE*

```{r question_1b, message = FALSE, warning = FALSE}



```

c. Transform the `date` column into a variable of class "Date" (make this transformation within the same dataframe and make sure the column is still named `date`). Once you make the transformation, check within the same code chunks the new class of the column `date`. 

```{r question_1c, message = FALSE, warning = FALSE}



```

d. Create a new column called `month` based on the `date` variable. The month column should contain the actual names of the month in a truncated form (i.e., Jan, Feb... etc), then determine the ***min*** total number of cases per month. **Your final output should be a printed dataframe with 12 rows and two columns: the month and the min number of cases per month.**

```{r question_1d, message = FALSE, warning = FALSE}


```

e. Create a new column called `year` based on the `date` variable. The column year must contain the year each date happened. Then compute the total number of cases per year. Hint: Use the total column to get the total number of cases per year. **Your final output should be a printed dataframe with four rows and two columns: the year and the total number of cases per year.**

```{r question_1e, message = FALSE, warning = FALSE}


```



### **Question 2** (20 points)


Using `plotly`, generate a scatter plot for Age 0-17 (y axis) vs Age 70-79 (x axis). In the same plot, separate the data points by months, where each month is a different color. The plot title should be "Covid Cases: Ages from 0 to 17 vs Ages 70 to 79 by Month", the x-axis title should be "Senior Cases", and the y-axis title should be "Teenage Cases". **Your final output should be a printed interactive plot.**

```{r question_2, message = FALSE, warning = FALSE}



```

### **Question 3** (20 points)
Recreate Plot # 1. Recreating this plot will require pivoting, string cleaning, and proper labeling. Follow the following parts to be able to recreate the plot: 

a. Using the `cases` dataframe, select the column `date` as well as all the eight columns that start with "age_". Save it into a new dataframe. **Do not print the dataframe**

```{r question_3a, message = FALSE, warning = FALSE}


```

b. Reshape the dataframe from part a into a long format, such that the first column is `date`, the second column are now rows containing only the age category (i.e., age_18_29), and the third column is the number of cases for the corresponding age category and date. Save this into a dataframe. **Do not print the dataframe**  

```{r question_3b, message = FALSE, warning = FALSE}



```

c. Using the dataframe created in part b, create a new column with age categories in the following format: "50-59" (where the original format was "age_50_59"). **Do not print the dataframe**  

```{r question_3c, message = FALSE, warning = FALSE}



```
d. Using the dataframe created in part c, recreate Plot # 1 using ggplot. Note: your date column must be of Date class in order for this to work. **Your final output should be a printed plot**

```{r question_3d, message = FALSE, warning = FALSE}



```

### **Question 4** (20 points)

Take the female cases in the year 2022 as a sample and perform a bootstrap analysis. Estimate the standard error of the **mean**. Perform 1000 iterations.

Note: You can turn a column of a datafame into a vector by using the following code `as.vector(dataframe$column_name)` or by using the function `pull` in the following format `pull(dataframe, column_name)`. **Your final output should be the printed value of the estimated standard error.**

```{r question_4, message = FALSE, warning = FALSE}



```

### **Question 5** (20 points)

Suppose a cooler has 10 cans of different flavors of juice as follows: 3 apple, 5 mango, and 2 grape. If you randomly draw one juice, the theoretical probability that the juice is grape is 2/10 (0.2). 

Create a function that simulates drawing one juice from that cooler. The arguments of the function should be `i`, `cooler`, and `juice`, representing the iterations, the vector of juices in the cooler and the juice you want to compute the probability on, respectively. 

Use this function to simulate the experimental probability of getting a grape juice. Use 1000 iterations. **Your final output should be the printed experimental probability of getting a grape juice.**

 
```{r question_5, message = FALSE, warning = FALSE}

 
 


```

### **Extra Credit** (5 points)

Open a new R script file and recreate the shiny app EXACTLY as it is. The dataframe used to create the bar graph is `mtcars`. If you decide to do this for extra credit, you can upload this R script along with your html file. 

No credit will be give if your app does not run. 

